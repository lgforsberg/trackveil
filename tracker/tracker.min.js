!function(){"use strict";const t="https://api.trackveil.net/track",e="tv_fp";function n(){const t=[navigator.userAgent,navigator.language,screen.width+"x"+screen.height,screen.colorDepth,(new Date).getTimezoneOffset(),!!window.sessionStorage,!!window.localStorage,navigator.platform,navigator.hardwareConcurrency||"unknown",navigator.deviceMemory||"unknown"];try{const e=document.createElement("canvas"),n=e.getContext("2d");n&&(n.textBaseline="top",n.font="14px Arial",n.fillText("Trackveil",2,2),t.push(e.toDataURL()))}catch(t){}const e=t.join("|");let n=0;for(let t=0;t<e.length;t++){n=(n<<5)-n+e.charCodeAt(t),n&=n}return"fp_"+Math.abs(n).toString(36)+"_"+Date.now().toString(36)}function o(){try{let t=localStorage.getItem(e);return t||(t=n(),localStorage.setItem(e,t)),t}catch(t){return n()}}function r(){if(!window.performance||!window.performance.timing)return null;const t=window.performance.timing,e=t.loadEventEnd-t.navigationStart;return 0===t.loadEventEnd||e<0||e>6e4?null:e}!function(){const e=function(){const t=document.currentScript||document.querySelector("script[data-site-id]");if(!t)return console.error("[Trackveil] Script tag not found"),null;const e=t.getAttribute("data-site-id");return e||(console.error("[Trackveil] data-site-id attribute is required"),null)}();function n(){const n=function(t){return{site_id:t,page_url:window.location.href,page_title:document.title,referrer:document.referrer,screen_width:screen.width,screen_height:screen.height,fingerprint:o(),load_time:r()}}(e);!function(e){if(navigator.sendBeacon)try{const n=new Blob([JSON.stringify(e)],{type:"application/json"});if(navigator.sendBeacon(t,n))return}catch(t){}fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),keepalive:!0,credentials:"omit",cache:"no-store",mode:"cors"}).catch(function(t){console.debug("[Trackveil] Tracking failed:",t)})}(n)}e&&("complete"===document.readyState?setTimeout(n,100):window.addEventListener("load",function(){setTimeout(n,100)}),document.addEventListener("visibilitychange",function(){document.visibilityState}))}()}();