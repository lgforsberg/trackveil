/**
 * Trackveil - Simple Website Visitor Tracker (Minified)
 * Include on your site: <script async src="https://cdn.trackveil.net/tracker.min.js" data-site-id="YOUR_SITE_ID"></script>
 */
!function(){"use strict";const e="https://api.trackveil.net/track",t="tv_fp";function n(){const e=document.currentScript||document.querySelector("script[data-site-id]");if(!e)return console.error("[Trackveil] Script tag not found"),null;const t=e.getAttribute("data-site-id");return t||(console.error("[Trackveil] data-site-id attribute is required"),null),t}function i(){const e=[navigator.userAgent,navigator.language,screen.width+"x"+screen.height,screen.colorDepth,(new Date).getTimezoneOffset(),!!window.sessionStorage,!!window.localStorage,navigator.platform,navigator.hardwareConcurrency||"unknown",navigator.deviceMemory||"unknown"];try{const t=document.createElement("canvas"),n=t.getContext("2d");n&&(n.textBaseline="top",n.font="14px Arial",n.fillText("Trackveil",2,2),e.push(t.toDataURL()))}catch(e){}const t=e.join("|");let n=0;for(let e=0;e<t.length;e++){const i=t.charCodeAt(e);n=(n<<5)-n+i,n&=n}return"fp_"+Math.abs(n).toString(36)+"_"+Date.now().toString(36)}function r(){try{let e=localStorage.getItem(t);return e||(e=i(),localStorage.setItem(t,e)),e}catch(e){return i()}}function a(){if(!window.performance||!window.performance.timing)return null;const e=window.performance.timing,t=e.loadEventEnd-e.navigationStart;return 0===e.loadEventEnd||t<0||t>6e4?null:t}function o(e){return{site_id:e,page_url:window.location.href,page_title:document.title,referrer:document.referrer,screen_width:screen.width,screen_height:screen.height,fingerprint:r(),load_time:a()}}function s(t){if(navigator.sendBeacon){const n=new Blob([JSON.stringify(t)],{type:"application/json"});navigator.sendBeacon(e,n)}else fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t),keepalive:!0}).catch((function(e){console.debug("[Trackveil] Tracking failed:",e)}))}!function(){const e=n();if(!e)return;function t(){const t=o(e);s(t)}"complete"===document.readyState?setTimeout(t,100):window.addEventListener("load",(function(){setTimeout(t,100)})),document.addEventListener("visibilitychange",(function(){"hidden"===document.visibilityState&&console.debug("[Trackveil] Page hidden")}))}()}();

